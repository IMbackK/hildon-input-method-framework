2010-03-17 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.57-1~unreleased
	* src/hildon-im-context.c : Adds Del key functionality with shift+backspace.
	* Fixes : NB#155966

2010-03-03 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.56-1
	* src/hildon-im-context.c : Restores broken level-inverting when default mode is
	  TELE.
	* Fixes : NB#158515

2010-03-02 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.55-1

2010-02-26 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.55-1~unreleased
	* src/hildon-im-context.c : Adds russian latin layout again, reverting changes for
	  NB#154576.
	* Fixes : NB#157749

2010-02-23 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.54-1
	* src/hildon-im-context.c : Resets auto-capitalization flag right after using it in
	  key_pressed handler, rather than waiting to reset it in key_release.
	* Fixes : NB#157751

2010-02-22 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.53-1

2010-02-19 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.52-1

2010-02-18 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.52-1~unreleased
	* src/hildon-im-context.c : Corrects shift and mod translation by removing mod modifier mask
	  from default translation state during key-press handler.
	* Fixes : NB#157380

2010-02-17 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.51-1
	* src/hildon-im-context.c : Resets shift and level states on key release.
	* Fixes regression: NB#101069 was happening.
	* Fixes : NB#157343

2010-02-17 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.50-1
	* src/hildon-im-protocol.h : Adds placeholders in protocol command constants to restore
	  ABI breakage.
	* Fixes regression from NB#143933

2010-02-12 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.49-1

2010-02-12 Joaquim Rocha <jrocha@maemo.org>

	* src/hildon-im-context.c : Removes russian latin layout.
	* Fixes : NB#154576

2010-02-09 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.49-1~unreleased
	* src/hildon-im-context.c : Avoids doing backspace to detele character during key long-press.
	* Fixes : NB#155634

2010-02-04 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.48-1

2010-02-04 Eduardo Lima Mitev <e-lima@maemo.org>

	* src/hildon-im-context.c : Solved regression to NB#143933(reset autocap state in context upon
	  deactivation in Settings panel).
	* Fixes NB#143452

2010-01-28 Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.48-1~unreleased
	* src/hildon-im-context.c : Solved regression (autocap wasn't being detected if text
	  was selected from the beginning of the line)
	* Fixes: NB#154630

2010-01-25 Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.47-1

2010-01-25 Eduardo Lima Mitev <e-lima@maemo.org>

	* src/hildon-im-context.c: Adds long-press data clean-up when IM context loses focus.
	* Fixes: NB#152149

2010-01-22 Eduardo Lima Mitev <e-lima@maemo.org>

	* src/hildon-im-context.c : Completely re-implements shift and level state
	  management.
	* src/hildon-im-context.c: Moves call to 'reset_shift_and_level_keys_if_needed' from
	  key_released to key_pressed.
	* Fixes regression: NB#145043 was happening.
	* Fixes: NB#143933

2010-01-19 Joaquim Rocha <jrocha@maemo.org>

	* debian/rules : Prevents installing changelogs and docs from the Debian
	  package. (NB#149136)
	* Fixes: NB#149136

2010-01-18 Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.47-1~unreleased
	* src/hildon-im-context.c : Reinsure the client application can receive a
	  suggested word.
	* Fixes: NB#136775

2010-01-14 Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.46-1

2010-01-12 Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.46-1~unreleased
	* src/hildon-im-context.c : Removes the upper case check and transformation
	  from the level translation.
	* Fixes: NB#152454

2010-01-05 Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.45-1

2010-01-04 Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.45-1~unreleased
	* src/hildon-im-context.c : Send the hide command even when the client
	  application is not focused.
	* Fixes: NB#141282

2009-12-18 Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.44-1

2009-12-14 Eduardo Lima Mitev <e-lima@maemo.org>

	* Version 1:2.1.44-1~unreleased
	* src/hildon-im-context.c : Translating keys now honors the current state of
	  the level and shift keys.
	* src/hildon-im-context.c : Implements the long-press feature.
	* src/hildon-im-protocol.h : Adds definitions for new X message to get
	  long-press' feature setting notifications.
	* Fixes: NB#143460
	* Fixes: NB#146069

2009-12-14  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.43-1
	* src/hildon-im-context.c (hildon_im_context_set_client_cursor_location) :
	  Clears the client's selection when the received cursor offset is 0
	* src/hildon-im-context.c : Removed use of Hildon functions
	* Fixes: NB#148175
	* Fixes: NB#139950

2009-12-11  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.42-1
	* src/hildon-im-context.c : Made shift and fn actions consistent
	* Fixes: NB#143481

2009-12-09  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.42-1~unreleased
	* src/hildon-im-context.c (hildon_im_hook_unmap_handler) : Fix calling
	  hildon_im_hide when the context is not a Hildon context.
	* Fixes: NB#146228

2009-11-23  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.41-1
	* src/hildon-im-context.c : Added the reset shift and level keys to the
	  release event as well to work for non printed keys.
	* Fixes: NB#101069

2009-11-06  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.40-1
	* hildon-im-context.c (key_released, key_pressed) : Resets shift and level
	  keys in the end of the key press to avoid inputting shifted characters
	  by pressing a key after another without releasing the first one.
	* Fixes: NB#145043

2009-10-15  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.39-1

2009-10-13  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.39-1~unreleased
	* hildon-im-context.c: Removed checking for the COMPOSITE_MASK as it would
	  prevent character insertion in some cases; Now input mode is only sent if
	  the client widget isn't NULL and it is focused.
	* Fixes: NB#141221
	* Fixes: NB#140750

2009-09-24  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.38-1
	* hildon-im-context.c: Freed a GString to prevent a leak.
	* Fixes: NB#138590

2009-09-21  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.37-1

2009-09-18  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.37-1~unreleased
	* hildon-im-context.c (commit_text): Corrected size of bytes to check in when
	  getting the length of the entry's text.

2009-09-03  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.36-1
	* hildon-im-context.c (key_pressed) : If Shift is pressed, then autocaps
	will be reversed and the character will be entered in lower case.

2009-09-03  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.36-1~unreleased
	* hildon-im-context.c: Masks are now reset only on key release, not on keypress
	* Fixes: NB#136433

2009-08-27  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.35-1~unreleased
	* hildon-im-context.c: Prevented setting the keyboard mask according to the
	  input mode since it's not needed and interferes with the current input mode
	  interpretation; Corrected auto-capitalization when the text is selected;
	  Now the preedit string obeys the current font styling.

2009-08-27  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.34-1
	* hildon-im-protocol.c : Corrected the order in ATOM_NAME.
	
	* Version 1:2.1.34-1

2009-08-21  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.33-1
	* hildon-im-context.c (incoming_preedit_buffer) : the incoming preedit text
	will be stored here until the END tag is received.
	(hildon_im_context_insert_utf8) : take into account the message tags
	(hildon_im_context_set_cursor_location) : don't reset if the cursor moved
	because of a long preedit being shown

2009-08-20  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.32-1
	* hildon-im-context.c (client_message_filter) : handle DestroyNotify events

	* Version 1:2.1.32-2
	* hildon-im-context.c (previous_commit_mode) : stores the previous commit
	mode when it is changed to PREEDIT_MODE, so it can be reset when the new
	preedit text is received in hildon_im_context_insert_utf8().
	* hildon-im-protocol.h : describe the temporary nature of the PREEDIT mode.
	It works as a temporary mode, so the commit mode will be reset to its old
	value right after the preedit text has been set. A 
	HILDON_IM_CONTEXT_PREEDIT_MODE message must be send before using 
	hildon_im_ui_send_utf8() to set the preedit, each time.

2009-08-20  Joaquim Rocha <jrocha@maemo.org>

	* hildon-im-context.c: Made the check for the lock level of the context options
	  independent from the level key's state checks.

2009-08-19  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c: substitute strncmp() for the much safer g_strcmp()

2009-08-18  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.32-1~unreleased
	* hildon-im-context.c: substitute the global "input_mode" variable with one
	for each instance, that depends on the kind of client widget.
	GtkTextViews and GtkEditables get COMMIT_REDIRECT mode, and the rest get
	COMMIT_SURROUNDING. In addition to this...
	(hildon_im_context_set_client_cursor_location) : Treat GtkEditable correctly
	(hildon_im_context_check_commit_mode) : Removed.
	* Fixes: NB#131073.

2009-08-10  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.31-1

2009-08-10  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.31-1~unreleased
	* hildon-im-context.c: Level mode now honors default hildon mode.
	* Fixes: NB#106177

2009-07-17  Richard Sun  <richard.sun@nokia.com>

	* debian/rules: sync with autogen

2009-07-16  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.30-1

2009-07-16  Joaquim Rocha <jrocha@maemo.org>

	* hildon-im-context.c: Removed documentation comments to apply them to the .h
	* hildon-im-context.h: Added documentation comments
	* hildon-im-comons.c: Removed documentation comments to apply them to the .h
	* hildon-im-commons.h: Added documentation comments
	* hildon-im-protocol.h: Added documentation comments
	* hildon-im-gtk.h: Added documentation comments
	* Added GTK+ documentation generation

2009-07-15  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (get_short_surrounding) : Use the correct length in
	bytes to get the substring.
	(hildon_im_context_send_surrounding) : send the full surrounding if there is
	one enqueued message that requests it.
	* Fixes: NB#127337.

2009-07-14  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.30-1~unreleased
	* hildon-im-context.c (get_window_id) : use gdk_error_trap... to avoid
	crashes caused by a call to XGetWindowProperty().
	* Fixes: NB#127483 Two core file in corematic with out bug id.

2009-07-02  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.29-1

2009-07-01  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c
	(key_pressed) : Correctly invert key values between normal and "level"
	layouts when in TELE and SPECIAL modes.
	(hildon_im_context_set_mask_state) : Disable Fn and Shift locking in TELE
	and NUMERIC.
	(hildon_im_context_change_set_mask_for_input_mode) : Removed.
	* Fixes: NB#108649.

2009-06-30  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (get_short_surrounding) : Handle NULL surroundings.
	* Fixes: NB#125530.

2009-06-29  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c : send the input modes when "hildon-input-default"
	changes. Send fewer messages in hildon_im_context_send_command.

2009-06-26  Murray Cumming  <murrayc@murrayc.com>

	* src/hildon-im-protocol.h: HildonIMCommitMode enum: Remove a trailing comma 
	to avoid a compiler warning.
	* src/hildon-im-context.c: Likewise for HildonIMInternalModifierMask.
	https://bugs.maemo.org/show_bug.cgi?id=4728

2009-06-26  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.29-1~unreleased

2009-06-25  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.28-1

2009-06-24  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c : Many optimizations.
	Don't use XSync.
	Check autocaps if the user enters a space.
	Cache the ID of the HIM window.
	Discard enqueued requests for the surrounding. We send it just once.
	* Fixes: NB#107805.

2009-06-23  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c
	(hildon_im_context_send_input_mode) : Send a HildonIMInputModeMessage
	with the current input mode and default input mode. This is used when the
	HIM UI is activated and when the input mode of the widget changes.
	* hildon-im-protocol.c : Added HildonIMInputModeMessage.

2009-06-22  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (get_short_surrounding) : Fixed a crash. 

2009-06-19  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.28-1~unreleased
	* hildon-im-context.c 
	(hildon_im_context_send_surrounding) : Extracted functionality to two new
	functions:  get_full_line and get_short_surrounding.
	(get_full_line) : Return the text of the current line, as a response to
	REQUEST_SURROUNDING_FULL. This is the one used by the FKB.
	(get_short_surrounding) : Return the two words before the cursor and the
	work after it. This is the one used by the keyboard assistant, and improves
	a lot the performance in some cases (NB#107805, NB#114779).

2009-06-18  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.27-1

2009-06-18  Joaquim Rocha <jrocha@maemo.org>

	* hildon-im-context.c : Set indexes of the preedit attibutes as the length
	  of the preedit string in bytes instead of chars.
	* Fixes: NB#122653
	
2009-06-17  Felipe Erias Morandeira <femorandeira@maemo.org>

	*  hildon-im-context.c (set_preedit_buffer) : Make the preedit uppercase if
	Shift is locked. Corrected a leak.
	(key_pressed) : Pressing any key other than GDK_Right removes the preedit.
	This prevents strange effects with Ctrl-A, for example.
	Some code cleaning.

2009-06-16  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.27-1~unreleased
	* hildon-im-context.c : Corrected assignment of event->state. It was
	  assigning it to a new state instead of joining the new state with
	  the existing one.
	* Fixes: NB#119947

2009-06-12  Felipe Erias Morandeira <femorandeira@maemo.org>

	*  hildon-im-context.c (hildon_im_context_filter_event) : Don't show the IM
	on swipes, only on taps. This lets us support panning and text selection,
	and improves the usability with the FKB.

2009-06-11  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-protocol.h (HildonIMActivateMessage): The field 
	"default_input_mode" should have been added, but this would make the message
	4 bytes too large.
	* hildon-im-context.c :
	The default value for the trigger is HILDON_IM_TRIGGER_UNKNOWN.
	(hildon_im_context_send_command) : We should put the value of
	"hildon-input-default" in the HildonIMActivateMessage.
	* Version 1:2.1.26-1

2009-06-08  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.26-1~unreleased
	* hildon-im-context.c : Changed a block of code inside key_pressed in order
	  to switch the keys' case after processing their layout ;
	  Set end index of the preedit attribute to be the length of the provided
	  string and not a fixed size integer.
	* Fixes: NB#121214
	* Fixes: NB#118513

2009-06-04  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.25-1
	* hildon-im-context.c : implemented switch space and punctuation after
	autocompletion

2009-05-28  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (process_enter_key) : check that the type has been
	loaded in order to avoid a warning.
	* Fixes: NB#96197.
	* Version 1:2.1.23-1

2009-05-27  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (hildon_im_context_show) : Use the trigger type
	HILDON_IM_TRIGGER_UNKNOWN, so the HIM UI will try to use the best plugin
	taking into account the state of the keyboard and other things.
	* hildon-im-protocol.h : Added UNKNOWN to HildonIMTrigger.

2009-05-26  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.23-1~unreleased
	* hildon-im-context.c : Check if the IM context is Hildon before trying to
	  hide it.
	* Fixes: NB#104945

2009-05-21  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (hildon_im_context_get_surrounding) : Check the case
	when the client widget is a HildonEntry.
	* Fixes: NB#93219.
	* Version 1:2.1.22-1

2009-05-15  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.22-1~unreleased
	* hildon-im-context.c : Changed the Shift key processing to be done after
	  the level processing and set it so that it will raise the character's
	  case also if the Shift key is sticky and the level layer is active.

2009-05-14  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.21-1.

2009-05-13  Joaquim Rocha <jrocha@maemo.org>

	* hildon-im-context.c : Refactored the filter_keypress function so it would
	  be more easy to understand.

2009-05-12  Joaquim Rocha <jrocha@maemo.org>

	* hildon-im-context.c : Removed setting preedit as null since by then the
	  connected widget might not be completely initialized; Changed the dead
	  keys processing code block to under the Fn processing one so the keys
	  get translated, when needed, before being processed as dead.
	* Fixed: NB#107575
	* Fixed: NB#101069

2009-05-11  Joaquim Rocha <jrocha@maemo.org>

	* hildon-im-context.c : Set the event's state as level key mod mask when
	  the level key is sticky before sending the event so everything works as
	  if the level key was pressed.
	* Fixed: NB#99972

2009-05-08  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.21-1~unreleased
	* hildon-im-context.c : The surroundings_search_predicate function is now
	  returning TRUE only when the character is not a space.
	* Fixes: NB#114961
	* Fixes: NB#93437

2009-05-06  Felipe Erias Morandeira <femorandeira@maemo.org>

	* src/hildon-im-protocol.h : add to HildonIMCommand the values
	HILDON_IM_SHIFT_LOCKED, HILDON_IM_SHIFT_UNLOCKED, HILDON_IM_MOD_LOCKED and
	HILDON_IM_MOD_UNLOCKED.
	* hildon-im-context.c : instead of displaying the banners, send the
	appropiate command to the HIM process so they are displayed there
	* configure.ac : remove gettext
	* debian/control : remove dependency to
	hildon-input-method-l10n-mr | hildon-input-method-l10n-mr0
	* Version 1:2.1.20-1

2009-05-06  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.20-1~unreleased
	* hildon-im-context.c : Converted the cursor position from byte index to
	  the real position in the UTF8 string.
	* Fixes: NB#114473

2009-04-30  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.19-1

2009-04-30  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.19-1~unreleased
	* hildon-im-context.c : switched a couple of code blocks to make the Fn key be 
	  evaluated after the Shift key.
	* Fixes: NB#113625

2009-04-28  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.19-1~unreleased
	* hildon-im-context.c : set the set_preedit function to only erase the preedit
	  buffer in case the new contents are NULL, otherwise they get appended.
	* Fixes: NB#106525

2009-04-28  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c : send the committed preedit string to the HIM process
	when the user commits it from the context.
	* hildon-im-protocol.[hc] : add the infraestructure to implement the
	HILDON_IM_PREEDIT_COMMITTED and HILDON_IM_PREEDIT_COMMITTED_CONTENT messages

2009-04-23  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.18-1

2009-04-21  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (hildon_im_context_input_mode_changed) : Set the state
	of the Fn key according to the new input mode.
	* Fixes: NB#107392.

2009-04-16  Joaquim Rocha <jrocha@maemo.org>

	* Version 1:2.1.17-1
	* Fixes: NB#110843 Incorrect caps lock after using special characters

2009-04-16  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Fixes: NB#106193
	* Fixes: NB#107745
	* Fixes: NB#104848

2009-04-15  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Fixes: NB#110883
	* Fixes: NB#99075
	* Fixes: NB#109665

2009-04-14  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c :Fixed updating the context's mask when the input
	mode in the client widget changes. 

2009-04-02  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.17-1~unreleased
	* Fixed translation of logical strings.
	* Fixed having the first letter in lowercase sometimes.

2009-03-26  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.16-1

2009-03-25  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.16-1~unreleased
	* Fixes: NB#107312.

2009-03-24  Richard Sun  <richard.sun@nokia.com>

	* src/Makefile.am:add logging domain. Fixes: NB#107568 

2009-03-18  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.15-1
	* Fixes: NB#104945.

2009-03-13  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.15-1~unreleased.
	* Fixes: NB#105646.

2009-03-11  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 1:2.1.14-1.
	* Remove references to libhildonhelp.
	* Improve the fetching of the surrounding text by using get_slice().
	* Fixes: NB#98022, NB#101169.

2009-03-06  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c : Use gtk_text_buffer_get_slice(), so inline images
	are represented with the 0xFFFC character.

2009-03-05  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c :  
	Avoid using gtk_im_context_get_surrounding() with multi-line text widgets,
	since it fails.
	Change the mask for text widgets with NUMERIC or TELE input modes, so by
	default the Fn key is locked.
	Corrected the logical IDs used when the Fn and Shift keys are locked. 
	* Version 2.1.13-1
	* Fixes: NB#90390, NB#97514, NB#99805, NB#101140.

2009-02-27  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c : Implement space-after-word.
	* hildon-im-protocol: Added HILDON_IM_CONTEXT_SPACE_AFTER_COMMIT, to
	indicate a space when the preedit text is committed, and
	HILDON_IM_CONTEXT_NO_SPACE_AFTER_COMMIT to indicate the opposite.
	* Version 2.1.12-1

2009-02-26  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c : Fix code coverity warnings.
	* Version 2.1.12-1~unreleased
	* Fixes: NB#102871.

2009-02-19  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.11-1

2009-02-18  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Use the widget's own style for the preedit string.

2009-02-13  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.11-1~unreleased
	* hildon-im-context.c : check for errors from get_window_id()

2009-01-29  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.10-1

2009-01-23  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.10-1~unreleased
	* Code cleaning

2009-01-16  Richard Sun <richard.sun@nokia.com>

	* configure.ac, src/Makefile.am, debian/control:
	Cleanup build dependency and configuration based on libXi updates 

2009-01-16  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.9-1

2009-01-14  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c : Removed g_assert.

2009-01-13  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (hildon_im_context_send_surrounding) :
	Handle HildonEntries appropriately.
	Fixes: NB#93219.

2009-01-09  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.9-1~unreleased
	* hildon-im-context.c : Use "inpu_ib_mode_fn_locked" instead of
	"inpu_ib_mode_level_locked" when locking the Fn key.
	Fixes: NB#97514.

2008-12-17  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.8-1

2008-12-02  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.8-1~unreleased
	* hildon-im-context.c (hildon_im_context_filter_event) : Always set the
	trigger to HILDON_IM_TRIGGER_FINGER when GDK_BUTTON_PRESS and
	GDK_BUTTON_RELEASE events happen.

2008-11-07  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.7-1

2008-11-06  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Updated debian/changelog.
	Fixes: NB#90582, NB#90583.

2008-11-05  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (hildon_im_context_filter_keypress) :
	If we are in the preedit state and the user pressed the right
	arrow key, the preedit buffer will be committed. If the left
	arrow key or the backspace are pressed, the preedit buffer
	will be cleaned.

2008-11-04  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.7-1~unreleased.
	* hildon-im-context.c : 
	(get_buffer) : Helper function for getting the buffer of text views.
	(client_message_filter) : Clear the HILDON_IM_COMPOSE_MASK mask when the
	HILDON_IM_CONTEXT_CLEAR_STICKY message is received.
	* Fixes: NB#91567.

2008-10-31  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.6-1.

2008-10-30  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.6-1~unreleased
	* hildon-im-context.c (commit_text) : Workaround to prevent problems with
	HildonEntry and HildonTextView; when they are empty, throwing a "commit"
	signal changes the placeholder instead of the actual text.
	Fixes: NB#89354.

2008-10-13  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Fixed an "unused variable" warning
	* Version 2.1.5-2

2008-10-13  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.5-1

2008-10-10  Felipe Erias Morandeira <femorandeira@maemo.org>

	* hildon-im-context.c (hildon_im_context_send_surrounding): do not assume
	that the client widget is a GtkTextView

2008-10-03  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.4-1

2008-09-25  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.3-1

2008-09-12  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.2-2

2008-09-08  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.2-1

2008-09-05  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Merged into trunk.

2008-08-26  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.1
	* Alpha release for Fremantle. 

2008-08-18  Felipe Erias Morandeira <femorandeira@maemo.org>

	* Version 2.1.0
	* Pre-alpha release for Fremantle. 

2008-02-06  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 2.0.1

2008-02-05  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Fixed autocap changing multiple
	  characters when there are several key press events in
	  the queue and the mainloop iteration does not run between
	  their processing. Fixes NB#79664.
	* src/hildon-im-context.c, src/hildon-im-protocol.h:
	  Introduce HILDON_IM_CONTEXT_ENTER_ON_FOCUS, which generates
	  a virtual enter key event when the client widget receives
	  focus. This is mainly useful for fullscreen plugins.

2008-02-04  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Allow applications to supply the
	  window ID the IM will be set transient to, for children of
	  GtkPlug. Fixes NB#80146.

2008-01-11  Richard Sun  <richard.sun@nokia.com>

	* Version 1:2.0.0
	
2007-11-19  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 1:1.99.24-1
	* src/hildon-im-context.c:
	- Pressing shift no longer resets the dead key state, which
	  makes shift + dead keys commutative. Fixes NB#76248.
	- Unrealizing widgets should only trigger an IM hide command
	  if the widget in question had focus. Fixes NB#73109.

2007-10-24  Mohammad Anwari  <mohammad.anwari@nokia.com> 

	* Version 1:1.99.23-1

2007-10-22  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Modifier key presses should
	  not clear the sticky or lock state. This allows stickying
	  of multiple keys at the same time. Fixes NB#71928.

2007-10-19  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Always send Return/Enter to the IM,
	  even if the key event activated the widget or moved the focus.
	  Fixes NB#71497.

2007-09-28  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Applied patch by Mohammad Anwari:
	 - Compare surroundings and relative cursor positions therein
	   when checking if the cursor has moved. This fixes a context
	   reset being issued whenever the text shifts as a result of
	   formatting being applied, or the client widget allocation
	   changing.
	Fixes NB#69229, NB#71149.

2007-09-21  Mohammad Anwari  <mohammad.anwari@nokia.com> 

	* Version 1:1.99.21-1

2007-09-19  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- Exclude return from changing the focus. Fixes NB#69697.
	- Enable sticky shift for non-printable keys. Fixes NB#70297.

2007-09-12  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-gtk.c: Only consider mapped and visible widgets
	  as potential focus targets. Fixes NB#69237.

2007-09-10  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 1:1.99.20-1
	* src/hildon-im-context.c:
	- Restrict override of tab focus target to GtkEntries
	- Entries with activate signal handlers must not move focus on enter

2007-09-10  Mohammad Anwari  <mohammad.anwari@nokia.com> 

	* Version 1:1.99.19-1

2007-09-10  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, +src/hildon-im-gtk[c,h], src/Makefile.am:
	- Introduce Hildon platform behavior previously contained in Maemo
	  branch of GTK:
	  - Pressing tab in a text widget focuses the next text widget
	  - Pressing enter in a text widget without a default action simulates tab
	Fixes NB#58192, NB#64072.

2007-09-05  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- Reworked emission hooks to work without persistent context and widget references
	- Fixed crash on widget unmap in non-maemo code path
	- hildon_im_context_hide no longer requires a valid context, allowing its use
	  in the emissions hooks and elimination of the maemo specific code paths

2007-08-21  Mohammad Anwari  <mohammad.anwari@nokia.com> 

	* src/hildon-im-context.c: Non-maemo combo (Put MAEMO_CHANGES guard for
	non-maemo platforms)
	- Removed input modes and clipboard stuff
	- Connected the client widget's button press/release event and run it to the the filter_event.
	- Don't connect to interfaces which do not exist in vanilla gtk.

2007-08-30  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-protocol.h: Document the protocol

2007-08-29  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.h: Minor cleanups

2007-08-21  Mohammad Anwari  <mohammad.anwari@nokia.com> 

	* Version 1:1.99.18-1

2007-07-26  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.h:
	  Set the internal commit mode on entering buffered and surrounding
	  modes. Fixes backspace not working after entering and leaving
	  redirect mode. Fixes NB#58966.

2007-07-25  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: If the widget holding the current
	  selection does not share the toplevel with the new focus
	  widget, don't automatically deselect the text.
	  Fixes NB#63208.

2007-07-19  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 1:1.99.17-1

2007-07-17  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- Translate event when level key held down even if already level locked
	- Fixed backspace changing the behavior of the next Return key press. Fixes NB#63230.
	- Don't track previous surrounding in set_cursor_location as this is an
	  expensive operation. This may cause extra start of sentence checks in
	  GtkTextViews with formatting tags, but should otherwise give a net boost.
	- Fixed entering redirected commit mode moving the cursor in special cases
	- Send the selection range to the IM after the surrounding
	* src/hildon-im-context.c, src/hildon-im-protocol.h:
	- Add new IM communication HILDON_IM_CONTEXT_CLEAR_STICKY to clear
	  the sticky state from the IM

2007-07-10  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.h: Removed
	multiline check and messages, use HILDON_GTK_INPUT_MODE_MULTILINE
	HildonGtkInputMode flag instead. Fixes NB#62824.

2007-07-09  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 1:1.99.16-1

2007-07-06  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Minor cleanups:
	- Remove rapid activation check, doesn't seem necessary anymore
	- Change the ambiguously named client_signal_handler to
	  client_changed_signal_handler
	- Remove unused includes
	- Remove button 8 handling

2007-07-04  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.[c,h]:
	- Remove unused copy/cut/paste message definitions
	- Add copy-clipboard handler to all GTK text widgets and
	  generate a HILDON_IM_CLIPBOARD_COPIED message on emission.

2007-07-03  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Keep key presses in widgets
	  internal to the IM from generating X messages and thereby
          causing the IM to lose the client widget handle.
	  Fixes NB#62084.

2007-07-03  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 1:1.99.15-1

2007-07-02  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- Ensure the keyval for level lookup doesn't change the keyboard group
	- Fixed option_changed messages generating a harmless message

2007-07-02  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 1:1.99.14-1

2007-06-29  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Prevent keyval lookup for levels
	  higher than the number of keysyms attached to the keycode

2007-06-29  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 1:1.99.13-1

2007-06-28  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.h:
	- Include hardware keycode in HildonIMKeyEventMessage
	- Introduce HildonIMOptionMask to configure context features
	- Deprecate HILDON_IM_CONTEXT_AUTOCASE_ON, HILDON_IM_CONTEXT_AUTOCASE_OFF,
	  HILDON_IM_CONTEXT_AUTOCORRECTION_ON messages
	- Added option to enter a keyboard level lock state

2007-06-19  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 3.0.15-1

2007-06-18  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Claim composed characters as having
	already been handled in the key filter. Fixes NB#60434.

2007-06-13  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, configure.ac: Replace Pango-FT2 glyph
	check with Pango-Cairo version

2007-06-12  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.14-1

2007-06-12  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: If the digit keys are level shifted and the
	  input mode is strictly numeric, it's not necessary to actually
	  press the level key to enter numbers.

2007-06-08  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon_im_context.c: Implement level lock and sticky functionality. Fixes NB#59960.

2007-06-04  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 3.0.13-1
	* src/hildon-im-context.c: Consume GDK_Multi_key events

2007-06-04  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.12-1

2007-05-25  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Saner shift and autocap handling,
	always choose uppercase on shift lock or shift held down.

2007-05-22  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context, src/hildon-im-protocol.h:
	- When the input widget changes, reset the modifier mask

2007-05-18  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, hildon-im-protocol.h:
	- Move return/enter handling logic to the IM
	- Carry the client window id in the key event messages
	- Remove HILDON_IM_TOGGLE command as the logic is in the IM
	- Remove KEYBOARD_CONNECTED and KEYBOARD_DISCONNECTED state messages
	  as they are no longer used

2007-05-18  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.11-1

2007-05-16  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- Added sticky key and lock support for shift keys
	- Combined the internally tracked key states into one key mask

2007-05-15  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.10-1

2007-05-15  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- Don't commit preedit on _show. Fixes NB#55666.
	- Use the client widget font description when performing character validation

2007-05-10  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-protocol.h: Add do-nothing trigger

2007-05-09  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.9-1
	* Makefile.am, configure.ac, hildon-input-method-framework-header-3.0: Removed
	-header package.

2007-05-09  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.h:
	- Replace HildonIMKbMode with smaller HildonIMTrigger that more
	  closely map to the current plugin activation mechanism
	- Deprecate HILDON_IM_FLAG_BROWSER_WIDGET
	- Surrounding is now provided only upon explicit request
	- Split indirect commit mode into redirected and surrounding modes,
	  keep direct mode stricly for the non-fullscreen plugins
	- Replace FKB specific parts with more general versions

2007-05-08  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.8-1

2007-05-08  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Focus handler must not call context functions not part of the stock GTK API, fixes NB#56191.

2007-05-03  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.7-1
	* Changed license to LGPL.

2007-04-19  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.6-1
	* src/hildon-im-context.c, src/hildon-im-protocol.h: Renamed some constants to
	use HILDON_IM_ namespace.

2007-04-24  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Override default get_surrounding method for
	  GtkTextView, fixes autocap after newline no longer working with gtk 2.10

2007-04-19  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.5-1

2007-03-27  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- Remove the browser widget hacks
	- Disable the public im_context_reset, all resets should now be
	  triggered from the context itself only
	- The editable surrounding is now simply the entire text of the widget
	  as the overly complicated paragraph segmenting is removed

2007-03-23  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.4-1
	* hildon-input-method-framework-header-3.0.pc.in: Removed link to
	im_common 
	
2007-03-16  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* src/hildon-im-protocol.h, src/hildon-im-context.c: Renamed constants in
	HildonIMKbMode.
	* configure.ac: Replaced hildon-libs in favor of hildon-1

2007-02-16  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.3-1
	* src/hildon-im-protocol.h: Guarded #define MAEMO_CHANGES with ifdef

2007-02-16  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.1-2
	* src/hildon-im-protocol.h: Added #define MAEMO_CHANGES 

2007-02-16  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.1-2
	* src/hildon-im-protocol.h: Added inclusion to gtk/gtkenums.h
	* configure.ac: Disable pedantic

2007-02-15  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 3.0.0-1

2007-02-14  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.h:
	- autocap, key event propagation fixes

2007-01-31  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.[c,h]:
	- Propagate key events to the plugins

2007-01-15  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.[c.h]:
	- Deprecate unused constants, keep all of the context data private
	- Space after special character should not trigger lowercase autocap. Fixes NB#48664.

2006-12-04  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.8-2

2006-12-01  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 2.2.8-1
	* src/hildon-im-context.c:
	- Enable extension events for the client widgets
	- Check the pressure axis of button events. Fixes NB#46578.

2006-11-28  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-imcontext.c: Ask the IM to select the text from the
	url entry after the plugin has been created. Fixes NB#48607.

2006-11-28  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.7-1

2006-11-28  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.[c,h]:
	- Clean up the showing of the IM: Remove the button release hook,
	always set the client in focus in, handle browser and GTK widgets the
	same in the event filter. Fixes NB#41925, NB#48349
	- When applications calls hildon_gtk_im_context_show, assume they
	want the VKB. Fixes NB#46954, NB#46955
	- Disconnect the hide signal handler when the client widget changes

2006-11-21  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* src/hildon-im-protocol.h: Changed the license to full license.

2006-11-14  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.6-1
	* src/hildon-im-context.c: Always set the client when having a focus in.

2006-10-25  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.5-1

2006-10-25  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Workaround for Pango leak introduced by previous addition

2006-10-24  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Check that the composed character is available in the font. Fixes NB#42728.

2006-10-20  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.4-1

2006-10-20  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Cut the rapid activation period a bit. Part of fix NB#43934.

2006-10-12  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.3-1

2006-10-11  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Check non-null client widget in hide cb, fixes NB#42735

2006-10-05  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Clear the dead key state on non-printable
	characters, fixes dead key combination after backspace or cursor movement

2006-10-04  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.2-1
	* src/hildon-im-context.c: Commit the printable version of combining character if last combining character is pressed again or space is pressed.  Fixes NB#40356.

2006-10-03  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- Reset activation timer on focus out, fixes autocap not keeping up in browser
	- Don't update kb mode during event filtering if activation just occured,
	  fixes backspace not working correctly in some situations, NB#42148

2006-09-29  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Don't do rapid activation check on activating the VKB, fixes NB#41870

2006-09-20  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.1-1

2006-09-14  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Don't hide IM in hide signal cb unless it has focus, fixes NB#40586

2006-09-13  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.2.0-1

2006-09-11 Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Implemented dead-key character compose filter. Fixes: NB#40356.

2006-09-11  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.20-1

2006-09-06  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.[c,h]: Require that widget got both the key press and the release to toggle the IM, fixes NB#36807

2006-09-06  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.19-1

2006-09-05  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Hide IM on client widget hide signal, fixes NB#39671

2006-08-29  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.18-1

2006-08-24  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Clear kb mode on switching to VKB, fixes NB#38699

2006-08-23  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Add context_reset implementation from 2005 branch, fixes NB#38436

2006-08-21  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Added new selection command, url entry identifier, fixes NB#28610

2006-08-11  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 2.0.16-1

2006-08-08  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Don't check activation time when hiding IM, fixes NB#36876

2006-07-28  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Version 2.0.15-1

2006-07-26  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.[c,h]:
	- Remove redundant mouse button press and release handlers
	- Introduce cooldown period between activations,
	  fixes NB#35032, NB#35411, NB#35408, NB#35359

2006-07-11  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.14-1
	* src/hildon-im-context.c: Don't clear when show. Fixes NB#34504.

2006-07-05  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Pass return key to application when
	hw keyboard is attached

2006-07-05  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.13-1

2006-07-04  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- IM is toggled on select key release instead of press, fixes N#33786
	- Remove repeat limiter on select key

2006-06-28  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.12-1

2006-06-27  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: HW Keyboard event handling, implements N#31984

2006-06-26  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-protocol.h: Remove duplicate message format defines

2006-06-09  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.11-1 (sync'ed with IT-2006 up to version 1.2.30-1)
	* src/hildon-im-context.c: Assure client widget in multiline check,
fixes N#32276/N#32321, partial fix for N#32219	

2006-06-07  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.10-1
	* src/hildon-im-context.c: Enable FKB invocation while in secret mode. Fixes N#28934.

2006-06-07  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.9-1
	* src/hildon-im-context.c: Fixed missing codes after synchronization with IT-2006. Fixes N#29698.

2006-06-06  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.8-1

2006-06-06  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* Sync'ed with IT-2006 up to version 1.2.29-1 (r17078), fixes N#31569

2006-05-24  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.7-1
	* Sync'ed with IT-2006 up to version 1.2.26-1
	* src/hildon-im-context.c: Don't reset kb mode on browser widget
	focus out, fixes N#28506, N#28512/N#30683.

2006-05-24  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.6-1
	* Sync'ed with IT-2006 up to version 1.2.25-1
	* src/hildon-im-context.c: Clear valid context on null widget, fixes N#30510/N#30636

2006-05-16  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.5-1
	* Sync'ed with IT-2006 up to version 1.2.22-4
	* src/hildon-im-context.c: Ignore browser_focus out requests when focus moves outside the browser, fixes N#29598/N#29820

2006-05-15  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.4-1
	* Sync'ed with IT-2006 up to version 1.2.22-1
	* src/hildon-im-context.c: Send autocap message even if autocap mode is not set, but only if mode still contains ALPHA, fixes N#28404/N#29581 
	* src/hildon-im-context.c: Don't remove selection on accessing combo boxes, fixes N#29109

2006-05-11  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.3-1
	* Sync'ed with IT-2006 up to version 1.2.21-1
	* src/hildon-im-context.c: Don't close IM on combobox window children focus, fixes N#22809/N#29354
	* src/hildon-im-context.c: Fix casting warnings, always use timeout in hide
	* src/hildon-im-context.c: Check multiline status on select key activation, fixes N#28439.

2006-05-09  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.2-1
	* src/hildon-im-context.c: Fix to auto-correction.
	* src/hildon-im-common.[c,h]: Added one function to detect whether a string is an auto-correction trigger.

2006-05-01  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.1-1
	* src/hildon-im-context.c: More fix to auto-correction.
	* Below are sync'ed with IT-2006 up to version 1.2.19-1
	* src/hildon-im-context.c:
	- Detect browser widget in grab focus handler, second part of fix for N#27153
	- Don't hide IM on entry completion popup, fixes N#27603
	* src/hildon-im-context.c: Enclosures FKB with #ifdef for Maemo-SDK.  Part of N#27674 fixes.
	* src/hildon-im-context.c: Override FKB activation for secret
	entries, fixes N#25853
	* src/hildon-im-context.c:
	* Fixes to N#22809:
	* src/hildon-im-context.c (hildon_im_hook_grab_focus_handler): If focus is moved to GtkComboBox, close the IM.
	* src/hildon-im-context.c (hildon_im_context_activate_keyboard): If IM context is for browser, set HILDON_IM_FLAG_BROWSER_WIDGET flag in kb_mode.
	* src/hildon-im-protocol.h: Added HILDON_IM_FLAG_BROWSER_WIDGET to HildonIMKbMode.
	* src/hildon-im-context.c: Clear client widget selection on FKB launch, fixes N#26432
	* src/hildon-im-context.c: Skipped hiding the UI if FKB's textview is unrealized. Fixes N#23256.
	* src/hildon-im-context.[ch]: Moved is_browser_widget as object's
	variable.
	* src/hildon-im-context.c: hildon_im_context_focus_in,
	hildon_im_context_focus_out: Fix FKB closing on browser
	widget focus out, and re-launching on focus in.

2006-03-31  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 2.0.0-1
	* src/hildon-im-context.c: Auto-correction: " ." and "  " to ". "

2006-03-29  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c:
	- hildon_im_context_filter_event, allowing the context to handle button release events internally
	- send the surrounding header even if widget doesn't provide the contents, so the right commit mode
	  is always accessible to the IM plugins
	- Free pre_edit_buffer in indirect mode, fixes N#25200, N#24097

2006-03-28  Mohammad Anwari  <Mohammad.Anwari@nokia.com>
	
	* Version 1.2.10-1
	* src/hildon-im-context.c: 
	- Clipboard functionalities for browser widget. 
	- Removed check_sentence_start in focus_in as it is checked in other places too. Fixes N#22306

2006-03-18  Mohammad Anwari  <Mohammad.Anwari@nokia.com>
	
	* Version 1.2.9-1
	* src/hildon-im-context.c: Added check whether the client widget is a browser widget in focus_in/out. Fixes N#23370.

2006-03-10  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* src/hildon-im-context.c:
	- hildon_im_context_focus_in: 
	- hildon_im_context_focus_out: removed clearing the preedit buffer in im
	- hildon_im_context_set_client_window: added clearing the preedit buffer in im, this is the rational place this operation should be carried out
	* Fixes N#23208

2006-03-09  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context: Check if client widget supports
	multiple lines before showing IM, fixes N#23279

2006-03-06  Mohammad Anwari  <Mohammad.Anwari@nokia.com>
	
	* Version 1.2.7-1

2006-03-07  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, src/hildon-im-protocol.h:
	- Recheck the commit mode on a indirect mode message, fixes the problem of
	  not knowing what IM plugin was launched when using the rocker key

2006-03-06  Mohammad Anwari  <Mohammad.Anwari@nokia.com>
	
	* Version 1.2.6-1

2006-03-03  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c, hildon-im-protocol.[c,h]:
	- Expanded surrounding of GtkTextViews to a full paragraph
	- Relative cursor movement & "direct" commit mode message added, fixes N#22945

2006-03-02  Mohammad Anwari  <Mohammad.Anwari@nokia.com>
	
	* Version 1.2.5-1

2006-03-02  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context: Introduce a small delay (70msec) in which a later
	arriving button press can cancel a pending IM show request, fixes N#23239, N#23260

2006-02-22  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Version 1.2.4-1
	* src/hildon-im-context.c:
	- hildon_im_context_activate_keyboard: make sure that correct mode are  sent with every message we send.
	- And all functions that calls hildon_im_context_activate_keyboard
	- Fixes N#23054
	- client_message_filter: record backspace fakekey as internal change to im context, will prevent im context from sending clearing message to the input method.
	- Fixes N#22655

2006-02-15  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* src/hildon-im-context.c
	- hildon_im_context_check_sentence_start: now the entry has to have both HILDON_GTK_INPUT_MODE_AUTOCAP and HILDON_GTK_INPUT_MODE_ALPHA flags to enable autocap message sending
	- Fixes N#22574, N#22874

2006-02-14  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hild-im-protocol.[c,h], src/hildon-im-context.[c,h]: Merged the FKB changes

2006-02-14  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* src/Makefile.am: Moved the lib from /u/l/him to /u/l

2006-02-02  Tomas Junnonen  <tomas.junnonen@nokia.com>

	* src/hildon-im-context.c: Fixed crash for widgets that don't
	give their surrounding

2006-02-01  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* src/hildon-im-protocol.c, src/hildon-im-context.c: Uses the new GtkIMContext interface.

2006-01-16  Mohammad Anwari  <Mohammad.Anwari@nokia.com>

	* Package reorganization.
